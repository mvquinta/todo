(()=>{"use strict";const t=function(t,e,a,n){let s={id:Date.now(),title:t,comment:e,duedate:a,priority:n};return Object.assign(s)};t(),t("Buy Kiwis","The yellow ones","02-03-2021","high");const e=document.querySelector(".add-task"),a=document.querySelector(".div-form-add-task"),n=document.querySelector(".task-list-li-container"),s=document.querySelector(".task-container");document.addEventListener("DOMContentLoaded",(()=>{!function(){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(t){const e=document.createElement("div");e.classList.add("myTodo"),n.appendChild(e);const a=document.createElement("li");a.classList.add("task-item"),a.innerHTML=t.title,e.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="icons-task-items" data-feather="trash">',s.classList.add("btn-trash"),e.appendChild(s);const d=document.createElement("button");d.innerHTML='<i class="icons-task-items" data-feather="check"></i>',d.classList.add("btn-check"),e.appendChild(d);const i=document.createElement("div");i.classList.add("div-task-info"),e.appendChild(i);const c=document.createElement("li");c.classList.add("task-comment"),c.innerHTML=t.comment,i.appendChild(c);const o=document.createElement("button");o.classList.add("disable-btn"),o.innerHTML='<i class="icons-task-info" data-feather="flag"></i>',i.appendChild(o);const l=document.createElement("button");l.classList.add("disable-btn"),l.innerHTML=t.duedate+'<i class="icons-task-info" data-feather="calendar"></i>',i.appendChild(l)}))}(),feather.replace()})),e.addEventListener("click",(e=>{if("btn-add-task"===e.target.classList[0]&&!document.querySelector(".div-form")){const e=document.createElement("div");e.classList.add("div-form"),a.appendChild(e);const s=document.createElement("form");s.classList.add("form-add-task"),s.id="addTaskForm",e.appendChild(s);const d=document.createElement("input");d.classList.add("input-add-task"),d.setAttribute("type","text"),s.appendChild(d),d.focus();const i=document.createElement("input");i.classList.add("dueDate-add-task"),i.setAttribute("type","date"),i.setAttribute("name","date"),i.setAttribute("placeholder",""),s.appendChild(i);const c=document.createElement("label");c.setAttribute("for","priority"),s.appendChild(c);const o=document.createElement("select");o.setAttribute("name","priority"),o.setAttribute("id","priority"),o.setAttribute("form","addTaskForm"),s.appendChild(o);const l=document.createElement("option");l.setAttribute("value","high"),l.innerHTML="High",o.appendChild(l);const r=document.createElement("option");r.setAttribute("value","medium"),r.innerHTML="Medium",o.appendChild(r);const m=document.createElement("option");m.setAttribute("value","low"),m.innerHTML="Low",o.appendChild(m);const u=document.createElement("div");u.classList.add("div-form-bottom"),e.appendChild(u);const p=document.createElement("input");p.classList.add("comment-add-task"),p.setAttribute("type","text"),p.setAttribute("placeholder","Add a comment"),u.appendChild(p);const h=document.createElement("button");h.classList.add("btn-add-task"),h.id="confirmAddTask",h.innerHTML="Add Task",u.appendChild(h),h.addEventListener("click",(e=>{!0===function(t){let e,a=!1;return e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e.forEach((function(e){e.title.toLowerCase()===t.toLowerCase()&&(a=!0)})),a}(d.value)||""===d.value?alert("Task already exists or nothing was written. Please review your task."):(!function(t){!function(t){let e;e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e.push(t),localStorage.setItem("tasks",JSON.stringify(e))}(t);const e=document.createElement("div");e.classList.add("myTodo"),n.appendChild(e);const a=document.createElement("li");a.classList.add("task-item"),a.innerHTML=t.title,e.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="icons-task-items" data-feather="trash">',s.classList.add("btn-trash"),e.appendChild(s);const d=document.createElement("button");d.innerHTML='<i class="icons-task-items" data-feather="check"></i>',d.classList.add("btn-check"),e.appendChild(d);const i=document.createElement("div");i.classList.add("div-task-info"),e.appendChild(i);const c=document.createElement("li");c.classList.add("task-comment"),c.innerHTML=t.comment,i.appendChild(c);const o=document.createElement("button");o.classList.add("disable-btn"),o.innerHTML='<i class="icons-task-info" data-feather="flag"></i>',"high"===t.priority?o.classList.add("highP"):"medium"===t.priority?o.classList.add("mediumP"):o.classList.add("lowP"),i.appendChild(o);const l=document.createElement("button");l.classList.add("disable-btn"),l.innerHTML=t.duedate+'<i class="icons-task-info" data-feather="calendar"></i>',i.appendChild(l),document.querySelector(".div-form").remove()}(t(d.value,p.value,i.value,o.value)),feather.replace())}));const L=document.createElement("button");L.classList.add("btn-add-task"),L.id="cancelAddTask",L.innerHTML="Cancel",u.appendChild(L),L.addEventListener("click",(t=>{e.remove()}))}})),s.addEventListener("click",(function(t){const e=t.target;if("btn-trash"===e.classList[0]){const t=e.parentElement;!function(t){let e;e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"));const a=t.children[0].innerText;let n=e.findIndex((t=>t.title===a));e.splice(n,1),localStorage.setItem("tasks",JSON.stringify(e))}(t),t.remove()}})),s.addEventListener("click",(function(t){const e=t.target;"btn-check"===e.classList[0]&&e.parentElement.classList.toggle("checkTask")}))})();