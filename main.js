(()=>{"use strict";const e=function(e){let t={projName:e};return Object.assign(t,function(e,t,a,n,s=!1){let d={id:Date.now(),title:e,comment:t,duedate:a,priority:n,done:s};return Object.assign(d)}())};console.log("D");const t=document.querySelector(".add-task"),a=document.querySelector(".div-form-add-task"),n=document.querySelector(".task-list-li-container"),s=document.querySelector(".task-container"),d=document.querySelector(".project-name"),i=document.querySelector(".btn-add-proj"),c=document.querySelector(".div-for-add-proj"),o=document.querySelector(".ul-projects-list");function l(e){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.push(e),localStorage.setItem("tasks",JSON.stringify(t))}document.addEventListener("DOMContentLoaded",(()=>{!function(e){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(e){if(Object.keys(e).length<=3){const t=document.createElement("li");o.appendChild(t);const a=document.createElement("a");a.setAttribute("href","#"),a.classList.add("new-proj-name"),a.innerHTML=e.projName;const n=document.createElement("button");n.classList.add("btn-del-proj"),n.innerHTML='<i class="icons-task-items" data-feather="trash">',a.appendChild(n),t.appendChild(a),feather.replace()}else{if(!(Object.keys(e).length>=4))return 0;{const t=document.createElement("div");t.classList.add("myTodo"),n.appendChild(t);const a=document.createElement("li");a.classList.add("task-item"),a.innerHTML=e.title,t.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="icons-task-items" data-feather="trash">',s.classList.add("btn-trash"),t.appendChild(s);const d=document.createElement("button");d.innerHTML='<i class="icons-task-items" data-feather="check"></i>',d.classList.add("btn-check"),t.appendChild(d);const i=document.createElement("div");i.classList.add("div-task-info"),t.appendChild(i);const c=document.createElement("li");c.classList.add("task-comment"),c.innerHTML=e.comment,i.appendChild(c);const o=document.createElement("button");o.classList.add("disable-btn"),o.innerHTML='<i class="icons-task-info" data-feather="flag"></i>',"high"===e.priority?o.classList.add("highP"):"medium"===e.priority?o.classList.add("mediumP"):o.classList.add("lowP"),i.appendChild(o);const l=document.createElement("button");l.classList.add("disable-btn"),l.innerHTML=e.duedate+'<i class="icons-task-info" data-feather="calendar"></i>',i.appendChild(l),!0===e.done&&t.classList.add("checkTask")}}}))}(),feather.replace()})),t.addEventListener("click",(t=>{if("btn-add-task"===t.target.classList[0]&&!document.querySelector(".div-form")){const t=document.createElement("div");t.classList.add("div-form"),a.appendChild(t);const s=document.createElement("form");s.classList.add("form-add-task"),s.id="addTaskForm",t.appendChild(s);const i=document.createElement("input");i.classList.add("input-add-task"),i.setAttribute("type","text"),s.appendChild(i),i.focus();const c=document.createElement("input");c.classList.add("dueDate-add-task"),c.setAttribute("type","date"),c.setAttribute("name","date"),c.setAttribute("placeholder",""),s.appendChild(c);const o=document.createElement("label");o.setAttribute("for","priority"),s.appendChild(o);const r=document.createElement("select");r.setAttribute("name","priority"),r.setAttribute("id","priority"),r.setAttribute("form","addTaskForm"),s.appendChild(r);const m=document.createElement("option");m.setAttribute("value","high"),m.innerHTML="High",r.appendChild(m);const u=document.createElement("option");u.setAttribute("value","medium"),u.innerHTML="Medium",r.appendChild(u);const p=document.createElement("option");p.setAttribute("value","low"),p.innerHTML="Low",r.appendChild(p);const h=document.createElement("div");h.classList.add("div-form-bottom"),t.appendChild(h);const L=document.createElement("input");L.classList.add("comment-add-task"),L.setAttribute("type","text"),L.setAttribute("placeholder","Add a comment"),h.appendChild(L);const f=document.createElement("button");f.classList.add("btn-add-task"),f.id="confirmAddTask",f.innerHTML="Add Task",h.appendChild(f),f.addEventListener("click",(t=>{if(!0===function(e){let t,a=!1;return t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(t){if(void 0===t.title)return 0;t.title.toLowerCase()===e.toLowerCase()&&(a=!0)})),a}(i.value)||""===i.value)alert("Task already exists or nothing was written. Please review your task.");else{let t;t="All Projects"===d.innerHTML?e("Inbox"):e(d.innerHTML),t.title=i.value,t.comment=L.value,t.duedate=c.value,t.priority=r.value,function(e){l(e);const t=document.createElement("div");t.classList.add("myTodo"),n.appendChild(t);const a=document.createElement("li");a.classList.add("task-item"),a.innerHTML=e.title,t.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="icons-task-items" data-feather="trash">',s.classList.add("btn-trash"),t.appendChild(s);const d=document.createElement("button");d.innerHTML='<i class="icons-task-items" data-feather="check"></i>',d.classList.add("btn-check"),t.appendChild(d);const i=document.createElement("div");i.classList.add("div-task-info"),t.appendChild(i);const c=document.createElement("li");c.classList.add("task-comment"),c.innerHTML=e.comment,i.appendChild(c);const o=document.createElement("button");o.classList.add("disable-btn"),o.innerHTML='<i class="icons-task-info" data-feather="flag"></i>',"high"===e.priority?o.classList.add("highP"):"medium"===e.priority?o.classList.add("mediumP"):o.classList.add("lowP"),i.appendChild(o);const r=document.createElement("button");r.classList.add("disable-btn"),r.innerHTML=e.duedate+'<i class="icons-task-info" data-feather="calendar"></i>',i.appendChild(r),document.querySelector(".div-form").remove()}(t),feather.replace()}}));const k=document.createElement("button");k.classList.add("btn-add-task"),k.id="cancelAddTask",k.innerHTML="Cancel",h.appendChild(k),k.addEventListener("click",(e=>{t.remove()}))}})),s.addEventListener("click",(function(e){const t=e.target;if("btn-trash"===t.classList[0]){const e=t.parentElement;!function(e){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"));const a=e.children[0].innerText;let n=t.findIndex((e=>e.title===a));t.splice(n,1),localStorage.setItem("tasks",JSON.stringify(t))}(e),e.remove()}})),s.addEventListener("click",(function(e){const t=e.target;if("btn-check"===t.classList[0]){const e=t.parentElement;e.classList.toggle("checkTask"),function(e){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(a){a.title===e&&(!1===a.done?(a.done=!0,console.log("im here"),console.log(a.done),localStorage.setItem("tasks",JSON.stringify(t))):!0===a.done&&(console.log("im there"),a.done=!1,console.log(a.done),localStorage.setItem("tasks",JSON.stringify(t))))}))}(e.firstChild.innerText)}})),i.addEventListener("click",(function(){const t=document.createElement("div");t.classList.add("div-form-proj"),c.appendChild(t);const a=document.createElement("form");a.classList.add("form-add-proj"),a.id="addProjForm",t.appendChild(a);const n=document.createElement("input");n.classList.add("input-add-proj"),n.setAttribute("type","text"),a.appendChild(n),n.focus();const s=document.createElement("button");s.classList.add("btn-add-task"),s.id="confirmAddProj",s.innerHTML="Add Project",t.appendChild(s),s.addEventListener("click",(a=>{if(!0===function(e){let t,a=!1;return t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(t){t.projName.toLowerCase()===e.toLowerCase()&&(a=!0)})),a}(n.value)||""===n.value)alert("Task already exists or nothing was written. Please review your task.");else{let t=e(n.value);l(t);const a=document.createElement("li");o.appendChild(a);const s=document.createElement("a");s.setAttribute("href","#"),s.classList.add("new-proj-name"),s.innerHTML=t.projName;const d=document.createElement("button");d.classList.add("btn-del-proj"),d.innerHTML='<i class="icons-task-items" data-feather="trash">',s.appendChild(d),a.appendChild(s),feather.replace()}t.remove()}));const d=document.createElement("button");d.classList.add("btn-add-task"),d.id="cancelAddProj",d.innerHTML="Cancel",t.appendChild(d),d.addEventListener("click",(e=>{t.remove()}))})),document.addEventListener("click",(e=>{const t=e.target;"main-proj-name"!==t.classList[0]&&"new-proj-name"!==t.classList[0]||(d.innerText=t.innerText,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(n),function(){let e;e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e.forEach((function(e){if(Object.keys(e).length<=3)return 0;if(e.projName===d.innerHTML){const t=document.createElement("div");t.classList.add("myTodo"),n.appendChild(t);const a=document.createElement("li");a.classList.add("task-item"),a.innerHTML=e.title,t.appendChild(a);const s=document.createElement("button");s.innerHTML='<i class="icons-task-items" data-feather="trash">',s.classList.add("btn-trash"),t.appendChild(s);const d=document.createElement("button");d.innerHTML='<i class="icons-task-items" data-feather="check"></i>',d.classList.add("btn-check"),t.appendChild(d);const i=document.createElement("div");i.classList.add("div-task-info"),t.appendChild(i);const c=document.createElement("li");c.classList.add("task-comment"),c.innerHTML=e.comment,i.appendChild(c);const o=document.createElement("button");o.classList.add("disable-btn"),o.innerHTML='<i class="icons-task-info" data-feather="flag"></i>',"high"===e.priority?o.classList.add("highP"):"medium"===e.priority?o.classList.add("mediumP"):o.classList.add("lowP"),i.appendChild(o);const l=document.createElement("button");l.classList.add("disable-btn"),l.innerHTML=e.duedate+'<i class="icons-task-info" data-feather="calendar"></i>',i.appendChild(l),!0===e.done&&t.classList.add("checkTask")}}))}(),feather.replace())})),document.addEventListener("click",(e=>{const t=e.target;"btn-del-proj"===t.classList[0]&&(function(e){let t,a=0;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.forEach((function(t){t.projName===e&&(a+=1)}));for(let n=0;n=a;n++)t.forEach((function(a){if(a.projName===e){let a=t.findIndex((t=>t.projName===e));t.splice(a,1),localStorage.setItem("tasks",JSON.stringify(t))}})),a-=1}(t.parentElement.innerText),function(e){const t=e.target;"btn-del-proj"===t.classList[0]&&t.parentElement.parentElement.remove()}(e))}))})();